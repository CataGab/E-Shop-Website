<%@ page import="java.util.HashMap"%><%@ page import="java.util.Map" %><%@ page import="shop.Product" %><%@ page import="java.lang.Integer"%><jsp:useBean id='basket'         scope='session'         class='shop.Basket'          /><%    String empty = request.getParameter("emptyBasket");    if (empty!=null) {        basket.clearBasket();    }    String item = request.getParameter("addItem");	if(item != null){		basket.addItem(item);	}    String decrease = request.getParameter("decreaseItem");	if(decrease != null){		basket.decreaseItem(decrease);	}    String deleteItem = request.getParameter("deleteItem");    if(deleteItem != null){        basket.removeItem(deleteItem);    }	%><html><body><table><% Map<Product, Integer> items = basket.getItems();if(!items.isEmpty()){    System.out.println(items.size());	%>  <tr>  <th>Name of the Product</th>  <th>Artist Name</th>  <th>Price</th>  <th>Quantity</th>  <th>Add</th>  <th>Decrease</th>  <th>Remove Item from Basket</th>  <th>Product Picture</th></tr>    <%		for (Map.Entry<Product, Integer> entry : items.entrySet()){    Product p = entry.getKey();%>    <tr>    <td><%= p.title%></td>    <td><%= p.artist%></td>    <td>&pound<%= (double)p.price/100%></td>        <td><%=entry.getValue()%></td>       <td> <form>            <input type="hidden" name="addItem" value="<%= entry.getKey().PID %>">            <input type="submit" value="+"></form></td>        <td> <form><input type="hidden" name="decreaseItem" value="<%= entry.getKey().PID %>">            <input type="submit" value="-"></form> </td>        <td>			<form><input type="hidden" name="deleteItem" value="<%= entry.getKey().PID %>">            <input type="submit" value="Delete Item"></form>        </td>        <td><img src= "<%= p.thumbnail%>"/></td>        </form>    </tr>  <% }}    %></table><table><h2> Order total = &pound <%= basket.getTotalString() %></h2></table><%    if ( basket.getTotal() > 0) {        %>        <h1>Please enter your name:<h1>        <form action="orderpage.jsp" method="post">        <input type="text" name="name" size="20">        <input type="submit" value="Place Order" />        </form>        <form action="baskett.jsp" method="get">        <input type="hidden" name="emptyBasket" value="yes">        <input type="submit" value="Empty Basket" />        </form>        <%    }%></body></html>